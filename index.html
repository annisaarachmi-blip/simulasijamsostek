<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulasi Iuran BPJS Ketenagakerjaan</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ================= LOGO ATAS KANAN ================= */
.logo-top-right {
  display: flex;
  justify-content: flex-end; /* kanan */
  margin-bottom: 6px;
}

.logo-top-right img {
  width: 120px;    /* agak besar */
  height: auto;
}

/* ================= MOBILE ================= */
@media (max-width: 600px) {
  .logo-top-right img {
    width: 90px;   /* sedikit lebih kecil di HP */
  }
}
/* ================= BASE ================= */
body{
  font-family:'Nunito Sans',sans-serif;
  background:#f4f6f9;
  margin:0;
  padding:10px;
}
.btn-reset{
  background:#dc2626;
}
.actions{
  display:flex;
  gap:12px;
}
.actions button{
  width:100%;
}
.container{
  max-width:960px;
  margin:auto;
  background:#fff;
  padding:20px;
  border-radius:14px;
}

h2{
  text-align:center;
  color:#0a4fb3;
  font-size:22px;
  margin-bottom:10px;
}

h3{margin-top:0}

.section{
  border:1px solid #ddd;
  padding:12px;
  margin-top:14px;
  border-radius:14px;
}

.hidden{display:none}

label{
  display:block;
  margin-top:10px;
  font-size:14px;
}

input,select,button{

  box-sizing:border-box;
  padding:10px;
  margin-top:6px;
  font-size:14px;
}

button{
  background:#0a4fb3;
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
  margin-top:16px;
}

#rekapProgram h3{
  margin-top:0;
  margin-bottom:4px; 
}


/* ================= CHECKBOX CARD ================= */
.checkbox-row{
  display:grid;
  grid-template-columns:repeat(2, max-content);
  gap:10px;
  margin-top:12px;
}

.checkbox-card{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-radius:12px;
  border:1.5px solid #d6dbe3;
  background:#f8f9fb;
  cursor:pointer;
  transition:.2s ease;
  font-size:13px;  
}

.checkbox-card input{
  width:18px;
  height:18px;
  margin:0;
  accent-color:#0a4fb3;
}

.checkbox-card.active{
  background:#eaf2ff;
  border-color:#0a4fb3;
  color:#0a4fb3;
  font-weight:600;
}

.checkbox-card.disabled{
  opacity:.45;
  cursor:not-allowed;
}

/* ================= TABLE ================= */
.table-wrap{overflow-x:auto}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:6px;
  min-width:700px;
}

th,td{
  border:1px solid #ccc;
  padding:6px 8px;     /* ‚¨ÖÔ∏è lebih rapat */
  text-align:center;
  font-size:13px;
}

th{background:#f1f5ff}

.summary{
  background:#eef6ff;
  padding:14px;
  margin-top:15px;
  border-left:5px solid #0a4fb3;
  font-size:14px;
}


.footer-note{
  text-align:center;
  font-size:12px;
  color:#888;
  margin-top:30px;
}

@media(max-width:600px){
  .checkbox-row{grid-template-columns:1fr}
  h2{font-size:20px}
}

/* ================= HASIL SIMULASI & REKAP ================= */
#hasil {
  border: 2px solid #000;   /* ‚¨ÖÔ∏è border hitam tebal */
  padding: 12px;            /* tetap nyaman di dalam */
  border-radius: 14px;      /* sudut bulat */
}

/* ================= REKAP IURAN PER PROGRAM ================= */
#rekapProgram {
  padding: 16px;             /* ruang di dalam kotak */
  border-radius: 14px;       /* sudut bulat */
  background: #fff;          /* latar putih */
  width: 80%;                /* lebar kotak */
  min-width: 400px;          /* minimal lebar supaya tabel muat */
  max-width: 900px;          /* maksimal lebar */
  min-height: 200px;         /* tinggi minimal kotak */
  margin: 14px 0;            /* atas & bawah ada jarak, kiri kanan 0 = kiri */
}
/* ================= RESPONSIF MOBILE ================= */
@media (max-width: 600px) {
  #rekapProgram {
    width: 100%;             /* full width di mobile */
    padding: 12px;           /* padding lebih kecil */
    margin-left: 0;           /* rata kiri */
    margin-right: 0;          /* rata kiri */
    box-sizing: border-box;
  }

  /* wrapper tabel scrollable */
  #rekapProgram .table-wrap {
    overflow-x: auto;        /* scroll jika tabel tetap lebar */
  }

  #rekapProgram table {
    width: 100%;             /* tabel ikut lebar kotak */
    min-width: 0;
    table-layout: auto;
  }

  #rekapProgram th, #rekapProgram td {
    padding: 4px 6px;       /* padding lebih kecil */
    word-wrap: break-word;  /* teks panjang wrap */
    white-space: normal;    /* jangan paksa tetap 1 baris */
    font-size: 12px;        /* font lebih kecil */
  }
}



/* ================= FOOTER TABLE MOBILE ================= */
.footer-table table{
  margin-top:0;
  background:white;
  color:black; 
  min-width:auto; /* override */
}

@media(max-width:600px){
  .footer-table th,
  .footer-table td{
    font-size:12px;
    padding:6px;
  }
  

 .footer h4{
  margin-bottom:6px;
  padding-bottom:4px;
  border-bottom:1px solid #e5e7eb;
}

  .footer h5{
    font-size:12px;
    text-align:center;
    color:#555;
  }
}

#tabelRekap{
  min-width:0;
  width:auto;
  table-layout:auto;
}

.table-wrap table{
  width:auto;
  min-width:0;
  table-layout:auto;
}

/* ===== PRINT SETTING ===== */
@media print{

  body{
    background:#fff;
  }

  .container > *:not(#hasil){
    display:none !important;
  }

  .print-area{
    display:none !important;
  }

  #hasil{
    display:block;
  }
   @page{
    size:A4 portrait;
    margin:12mm;
  }
  table{
    min-width:0 !important;
    table-layout:fixed;
  }

  th, td{
    font-size:11px;
    padding:6px;
    word-wrap:break-word;
  }
}

.btn-print{
  background:#16a34a;      /* hijau */
  color:#fff;
  border:none;
  border-radius:12px;
  padding:10px 16px;
  font-size:14px;
  cursor:pointer;
  transition:0.2s ease;
}

.btn-print:hover{
  background:#15803d;      /* hijau lebih gelap */
}

@media print {
  .logo-top-right {
    display: flex !important;
  }
}


</style>
</head>

<body>
<div class="container">

<div class="logo-top-right">
  <img src="logo.png" alt="Logo BPJS Ketenagakerjaan">
</div>

<h2>Simulasi Penganggaran Iuran Jaminan Sosial Ketenagakerjaan</h2>
<p style="text-align: justify"><font size="2px">Simulasi ini dapat digunakan oleh Pemerintah Daerah
	untuk membantu perencanaan dan estimasi kebutuhan anggaran perlindungan
	Jaminan Sosial Ketenagakerjaan berdasarkan jenis sasaran, jumlah peserta,
	lama perlindungan, dan program yang dipilih. Dapat digunakan juga oleh Perusahaan untuk ikut serta dalam Program Sejahterakan Pekerja Sekitar Anda (SERTAKAN).
 </font></p
<!-- ================= METODE ================= -->
<div class="section">
  <label><b>Metode Simulasi</b></label>
  <select id="metode">
    <option value="">-- Pilih Metode --</option>
    <option value="sasaran">Sesuai Sasaran</option>
    <option value="anggaran">Sesuai Ketersediaan Anggaran</option>
  </select>
</div>

<!-- ================= SASARAN ================= -->
<div id="boxSasaran" class="section hidden">
  <h3>Simulasi Sesuai Sasaran</h3>

  <label>Jenis Sasaran</label>
  <div class="checkbox-row">
    <div class="checkbox-card" id="cardPU"><input type="checkbox" id="s_nonasn"> PU</div>
    <div class="checkbox-card" id="cardBPU"><input type="checkbox" id="s_bpu"> BPU (Pekerja Rentan)</div>
  </div>

  <!-- PU -->
  <div id="sasaranNonASN" class="hidden">
    <h4>PU</h4>
	    <label>Upah (Rp)</label>
    <input type="text" id="upahS" class="input-number" value="3.000.000">

    <label>Jumlah Orang</label>
    <input type="text" id="orgSNon" class="input-number" value="100">

    <label>Bulan Perlindungan</label>
    <input type="text" id="blnSNon" class="input-number" value="12">

    <div class="checkbox-row">
      <div class="checkbox-card" id="cardJHTPU"><input type="checkbox" id="jhtSNon"> Tambah JHT 5,7%</div>
      <div class="checkbox-card disabled" id="cardJPPU"><input type="checkbox" id="jpSNon" disabled> Tambah JP 3%</div>
    </div>
  </div>

  <!-- BPU -->
  <div id="sasaranBPU" class="hidden">
    <h4>BPU (Pekerja Rentan)</h4>

    <label>Jumlah Orang</label>
    <input type="text" id="orgSBPU" class="input-number" value="100">

    <label>Bulan Perlindungan</label>
    <input type="text" id="blnSBPU" class="input-number" value="12">

    <div class="checkbox-row">
      <div class="checkbox-card" id="cardJHTBPU"><input type="checkbox" id="jhtSBPU"> Tambah JHT (Rp20.000)</div>
    </div>
  </div>

  <button onclick="hitungSasaran()">Hitung</button>
  <button type="button" class="btn-reset" onclick="resetSimulasi()">Reset</button>

</div>

<!-- ================= ANGGARAN ================= -->
<div id="boxAnggaran" class="section hidden">
  <h3>Simulasi Sesuai Ketersediaan Anggaran</h3>

  <label>Total Anggaran (Rp)</label>
  <input type="text" id="totalAnggaran" class="input-number">

  <label>Jenis Sasaran</label>
  <div class="checkbox-row">
    <div class="checkbox-card" id="cardPUA"><input type="checkbox" id="a_nonasn"> PU</div>
    <div class="checkbox-card" id="cardBPUA"><input type="checkbox" id="a_bpu"> BPU (Pekerja Rentan)</div>
  </div>

  <label><font color="BLUE"><b>Pilih Kebutuhan Perhitungan</font></b></label>
  <select id="tujuan">
    <option value="">-- Pilih --</option>
    <option value="orang">Mencari Jumlah Orang</option>
    <option value="bulan">Mencari Bulan Perlindungan</option>
  </select>

  <!-- PU Anggaran -->
  <div id="angNonASN" class="hidden">
    <h4>PU</h4>

    <label>Upah (Rp)</label>
    <input type="text" id="upahA" class="input-number" value="3.000.000">

    <label id="lblOrgA">Jumlah Orang</label>
    <input type="text" id="orgA" class="input-number" value="100">

    <label id="lblBlnA">Bulan Perlindungan</label>
    <input type="text" id="blnA" class="input-number" value="12">

    <div class="checkbox-row">
      <div class="checkbox-card" id="cardJHTA"><input type="checkbox" id="jhtA"> Tambah JHT 5,7%</div>
      <div class="checkbox-card disabled" id="cardJPA"><input type="checkbox" id="jpA" disabled> Tambah JP 3%</div>
    </div>
  </div>

  <!-- BPU Anggaran -->
  <div id="angBPU" class="hidden">
    <h4>BPU (Pekerja Rentan)</h4>

    <label id="lblOrgB">Jumlah Orang</label>
    <input type="text" id="orgB" class="input-number" value="100">

    <label id="lblBlnB">Bulan Perlindungan</label>
    <input type="text" id="blnB" class="input-number" value="12">

    <div class="checkbox-row">
      <div class="checkbox-card" id="cardJHTBA"><input type="checkbox" id="jhtB"> Tambah JHT (Rp20.000)</div>
    </div>
  </div>

  <button onclick="hitungAnggaran()">Hitung</button>
  <button type="button" class="btn-reset" onclick="resetSimulasi()">Reset</button>
</div>

<!-- ================= HASIL ================= -->
<div id="hasil" class="section hidden">
  <h3>Hasil Simulasi</h3>

  <div class="table-wrap">
    <table id="tabel">
      <tr>
        <th>Segmen</th>
        <th>Jumlah Orang</th>
        <th>Jumlah Bulan</th>
		<th>Jumlah Program</th>
        <th>Iuran / Bulan</th>
        <th>Total Anggaran</th>
      </tr>
    </table>
  </div>

  <div class="summary" id="kesimpulan"></div>
  <div id="rekapProgram" class="section hidden">
  <h3>Rekap Iuran per Program</h3>

  <div class="table-wrap">
    <table id="tabelRekap">
      <tr>
        <th>Program</th>
        <th id="colPU">PU</th>
        <th id="colBPU">BPU</th>
        <th>Total</th>
      </tr>
    </table>
  </div>
</div>
<div class="print-area hidden" id="printArea">
  <button onclick="printHasil()" class="btn-print">
    üñ®Ô∏è Cetak Hasil Simulasi
  </button>
</div>
</div>




<div class="footer">
  <h4>Skema Iuran</h4>
  <div class="table-wrap footer-table">
    <table>
      <tr><th>Program</th><th>Penerima Upah</th><th>Bukan Penerima Upah</th></tr>
      <tr><td>JKK + JKM</td><td>0,54% x Upah</td><td>Rp16.800</td></tr>
      <tr><td>JHT</td><td>5,7% x Upah</td><td>Rp20.000</td></tr>
      <tr><td>JP</td><td>3% x Upah</td><td>-</td></tr>
    </table>
  </div>

<p class="Catatan">
  <font size="1px">Catatan <br>
  - Minimal 2 Program Wajib (JKK + JKM) <br>
  - Simulasi JKK yang digunakan adalah rate 0,24% <br>
  - Dasar Upah BPU yang digunakan Rp 1.000.000,-<br>
  - Brosur Manfaat Program BPJS Ketenagakerjaan
    <a href="https://drive.google.com/file/d/1JkoL7o6aFq8yeSEdYyYzTttSYZzUFHKf/view?usp=sharing"
       target="_blank" rel="noopener" >
      (Download)
    </a>  
  </font><br>
  
  
</p>
 
</div>

<div class="footer-note">¬© 2026. BPJS Ketenagakerjaan Kantor Wilayah Jawa Timur</div>

</div>

<script>
/* ================= UTIL ================= */
const format=n=>Number(n||0).toLocaleString('id-ID');
const getNum=id=>parseInt(document.getElementById(id).value.replace(/\./g,''))||0;

/* format input */
document.addEventListener('input',e=>{
  if(e.target.classList.contains('input-number')){
    let raw=e.target.value.replace(/[^0-9]/g,'');
    e.target.value=format(raw);
  }
});

/* ================= METODE ================= */
metode.onchange=()=>{
  boxSasaran.classList.add('hidden');
  boxAnggaran.classList.add('hidden');
  hasil.classList.add('hidden');
  if(metode.value==='sasaran')boxSasaran.classList.remove('hidden');
  if(metode.value==='anggaran')boxAnggaran.classList.remove('hidden');
};

/* ================= TOGGLE SASARAN ================= */
s_nonasn.onchange=()=>{
  cardPU.classList.toggle('active',s_nonasn.checked);
  sasaranNonASN.classList.toggle('hidden',!s_nonasn.checked);
};

s_bpu.onchange=()=>{
  cardBPU.classList.toggle('active',s_bpu.checked);
  sasaranBPU.classList.toggle('hidden',!s_bpu.checked);
};

/* JHT ‚Üí JP PU */
jhtSNon.onchange=()=>{
  cardJHTPU.classList.toggle('active',jhtSNon.checked);
  jpSNon.disabled=!jhtSNon.checked;
  cardJPPU.classList.toggle('disabled',!jhtSNon.checked);
  if(!jhtSNon.checked){jpSNon.checked=false;cardJPPU.classList.remove('active')}
};

jpSNon.onchange=()=>cardJPPU.classList.toggle('active',jpSNon.checked);

jhtSBPU.onchange=()=>cardJHTBPU.classList.toggle('active',jhtSBPU.checked);

/* ================= TOGGLE ANGGARAN ================= */
a_nonasn.onchange=()=>{
  cardPUA.classList.toggle('active',a_nonasn.checked);
  angNonASN.classList.toggle('hidden',!a_nonasn.checked);
};

a_bpu.onchange=()=>{
  cardBPUA.classList.toggle('active',a_bpu.checked);
  angBPU.classList.toggle('hidden',!a_bpu.checked);
};

jhtA.onchange=()=>{
  cardJHTA.classList.toggle('active',jhtA.checked);
  jpA.disabled=!jhtA.checked;
  cardJPA.classList.toggle('disabled',!jhtA.checked);
  if(!jhtA.checked){jpA.checked=false;cardJPA.classList.remove('active')}
};

jpA.onchange=()=>cardJPA.classList.toggle('active',jpA.checked);

jhtB.onchange=()=>cardJHTBA.classList.toggle('active',jhtB.checked);

/* tujuan */
tujuan.onchange=()=>{
  const orang=tujuan.value==='bulan';
  lblOrgA.style.display=orang?'block':'none';
  orgA.style.display=orang?'block':'none';
  lblOrgB.style.display=orang?'block':'none';
  orgB.style.display=orang?'block':'none';
  lblBlnA.style.display=orang?'none':'block';
  blnA.style.display=orang?'none':'block';
  lblBlnB.style.display=orang?'none':'block';
  blnB.style.display=orang?'none':'block';
};

/* ================= HITUNG ================= */

function hitungJumlahProgram({ jht=false, jp=false }){
  let jumlah = 2; // default JKK + JKM
  if(jht) jumlah++;
  if(jp) jumlah++;
  return jumlah + 'P';
}


function hitungSasaran(){
  
  tabel.innerHTML=tabel.rows[0].outerHTML;
  let total=0;

  if(s_nonasn.checked){
    let up=getNum('upahS'),org=getNum('orgSNon'),bln=getNum('blnSNon');
    let tarif=0.0054+(jhtSNon.checked?0.057:0)+(jpSNon.checked?0.03:0);
    let per=up*tarif,sub=per*org*bln;total+=sub;
	
	 let jumlahProgram = hitungJumlahProgram({
    jht: jhtSNon.checked,
    jp:  jpSNon.checked
  });
	
	
    tabel.innerHTML+=`	<tr><td>PU</td>
	<td>${format(org)}</td>
	<td>${format(bln)}</td>
	<td>${jumlahProgram}</td>
	<td>Rp ${format(per)}</td>
	<td>Rp ${format(sub)}</td></tr>`;
  }

  if(s_bpu.checked){
    let org=getNum('orgSBPU'),bln=getNum('blnSBPU');
    let per=16800+(jhtSBPU.checked?20000:0),sub=per*org*bln;
	total+=sub;
	
	let jumlahProgram = hitungJumlahProgram({
    jht: jhtSBPU.checked
  });
	
    tabel.innerHTML+=`
	<tr><td>BPU</td>
	<td>${format(org)}</td>
	<td>${format(bln)}</td>
	<td>${jumlahProgram}</td>
	<td>Rp ${format(per)}</td>
	<td>Rp ${format(sub)}</td>
	</tr>`;
  }

  tabel.innerHTML+=`<tr><th colspan="5">TOTAL</th><th>Rp ${format(total)}</th></tr>`;
  kesimpulan.innerHTML=
  `Hasil simulasi menunjukkan kebutuhan anggaran sebesar <b>Rp ${format(total)}</b> untuk mendukung perlindungan jaminan sosial ketenagakerjaan sesuai skema yang dipilih.`;
  
  let rekapPU = {};
let rekapBPU = {};

// PU
if(s_nonasn.checked){
  let up = getNum('upahS');
  let org = getNum('orgSNon');
  let bln = getNum('blnSNon');

  rekapPU.JKK = up * 0.0024 * org * bln;
  rekapPU.JKM = up * 0.003 * org * bln;
  if(jhtSNon.checked) rekapPU.JHT = up * 0.057 * org * bln;
  if(jpSNon.checked) rekapPU.JP  = up * 0.03  * org * bln;


}

// BPU
if(s_bpu.checked){
  let org = getNum('orgSBPU');
  let bln = getNum('blnSBPU');

  rekapBPU.JKK = 10000 * org * bln;
  rekapBPU.JKM = 6800  * org * bln;
  if(jhtSBPU.checked) rekapBPU.JHT = 20000 * org * bln;



}

tampilkanRekap({ pu: rekapPU, bpu: rekapBPU });

  
  hasil.classList.remove('hidden');
  document.getElementById('printArea').classList.remove('hidden');
}

function hitungAnggaran(){

  tabel.innerHTML = tabel.rows[0].outerHTML;
  let ang = getNum('totalAnggaran');
  let bagian = (a_nonasn.checked && a_bpu.checked) ? ang/2 : ang;
  let total = 0;

  let rekapPU = {};
  let rekapBPU = {};

  /* ================= PU ================= */
  if(a_nonasn.checked){
    let up = getNum('upahA');
    let org = getNum('orgA');
    let bln = getNum('blnA');

    let tarifJKK = 0.0024;
    let tarifJKM = 0.003;
    let tarifJHT = jhtA.checked ? 0.057 : 0;
    let tarifJP  = jpA.checked  ? 0.03  : 0;

    let tarifTotal = tarifJKK + tarifJKM + tarifJHT + tarifJP;

    if(tujuan.value === 'orang'){
      let biayaPerOrg = up * tarifTotal * bln;
      org = Math.floor(bagian / biayaPerOrg);
    }else{
      let biayaPerBln = up * tarifTotal * org;
      bln = Math.floor(bagian / biayaPerBln);
    }

    let sub = up * tarifTotal * org * bln;
    total += sub;

    /* üîπ REKAP PU */
    rekapPU.JKK = up * tarifJKK * org * bln;
    rekapPU.JKM = up * tarifJKM * org * bln;
    if(jhtA.checked) rekapPU.JHT = up * tarifJHT * org * bln;
    if(jpA.checked)  rekapPU.JP  = up * tarifJP  * org * bln;

let jumlahProgram = hitungJumlahProgram({
  jht: jhtA.checked,
  jp: jpA.checked
});

    tabel.innerHTML += `
      <tr>
        <td>PU</td>
        <td>${format(org)}</td>
        <td>${format(bln)}</td>
		<td>${jumlahProgram}</td>
        <td>Rp ${format(up * tarifTotal)}</td>
        <td>Rp ${format(sub)}</td>
      </tr>
    `;
  }

  /* ================= BPU ================= */
  if(a_bpu.checked){
    let org = getNum('orgB');
    let bln = getNum('blnB');

    let tarifJKK = 10000;
	let tarifJKM = 6800;
	let tarifJHT = jhtB.checked ? 20000 : 0;
	let tarifTotal = tarifJKK + tarifJKM + tarifJHT;

    if(tujuan.value === 'orang'){
      org = Math.floor(bagian / (tarifTotal * bln));
    }else{
      bln = Math.floor(bagian / (tarifTotal * org));
    }

    let sub = tarifTotal * org * bln;
    total += sub;

    /* üîπ REKAP BPU */
   rekapBPU.JKK = 10000 * org * bln;
rekapBPU.JKM = 6800  * org * bln;
if(jhtB.checked) rekapBPU.JHT = 20000 * org * bln;


let jumlahProgram = hitungJumlahProgram({
  jht: jhtB.checked
});

    tabel.innerHTML += `
      <tr>
        <td>BPU</td>
        <td>${format(org)}</td>
        <td>${format(bln)}</td>
		<td>${jumlahProgram}</td>
        <td>Rp ${format(tarifTotal)}</td>
        <td>Rp ${format(sub)}</td>
      </tr>
    `;
  }

let sisa = ang - total;

/* BARIS TOTAL */
tabel.innerHTML += `
  <tr>
    <th colspan="5">TOTAL</th>
    <th>Rp ${format(total)}</th>
  </tr>
`;

/* BARIS SISA ANGGARAN */
tabel.innerHTML += `
  <tr>
    <th colspan="5">SISA ANGGARAN</th>
    <th>Rp ${format(sisa)}</th>
  </tr>
`;

  kesimpulan.innerHTML = `
    Total anggaran <b>Rp ${format(ang)}</b>,
    digunakan <b>Rp ${format(total)}</b>,
    sisa <b>Rp ${format(sisa)}</b>.
  `;

  /* üî• INI KUNCI REKAP */
  tampilkanRekap({
    pu: rekapPU,
    bpu: rekapBPU
  });

  hasil.classList.remove('hidden');
  document.getElementById('printArea').classList.remove('hidden');

}

function tampilkanRekap({pu = {}, bpu = {}}){

  const hasPU  = Object.keys(pu).length > 0;
  const hasBPU = Object.keys(bpu).length > 0;

  tabelRekap.innerHTML = `
    <tr>
      <th>Program</th>
      ${hasPU ? '<th id="colPU">PU</th>' : ''}
      ${hasBPU ? '<th id="colBPU">BPU</th>' : ''}
      <th>Total</th>
    </tr>
  `;

  const program = ['JKK','JKM','JHT','JP'];
  let grandTotal = 0;

  program.forEach(p=>{
    let valPU  = pu[p]  || 0;
    let valBPU = bpu[p] || 0;
    let total  = valPU + valBPU;

    if(total === 0) return;

    grandTotal += total;

    tabelRekap.innerHTML += `
      <tr>
        <td>${p}</td>
        ${hasPU  ? `<td>Rp ${format(valPU)}</td>`  : ''}
        ${hasBPU ? `<td>Rp ${format(valBPU)}</td>` : ''}
        <td><b>Rp ${format(total)}</b></td>
      </tr>
    `;
  });

  const colspan = 1 + (hasPU ? 1 : 0) + (hasBPU ? 1 : 0);

  tabelRekap.innerHTML += `
    <tr>
      <th colspan="${colspan}">TOTAL</th>
      <th>Rp ${format(grandTotal)}</th>
    </tr>
  `;

  rekapProgram.classList.remove('hidden');
}



function printHasil(){
  document.getElementById('hasil').classList.remove('hidden');
  document.getElementById('rekapProgram').classList.remove('hidden');
  window.print();
}
function resetSimulasi(){
  window.location.reload();
}
</script>
</body>
</html>


